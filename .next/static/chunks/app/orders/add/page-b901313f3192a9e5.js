(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{6721:function(e,t,n){Promise.resolve().then(n.bind(n,8693))},8693:function(e,t,n){"use strict";n.r(t);var a=n(7437),r=n(2265),s=n(4829);t.default=()=>{let[e,t]=(0,r.useState)({userId:"",menuItemId:"",restaurantId:"",orderDate:"",status:"",totalAmount:""}),[n,d]=(0,r.useState)(""),[l,u]=(0,r.useState)(""),[o,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{let fetchRestaurants=async()=>{try{let e=await s.Z.get("http://localhost:8080/New-FoodOrdering/restaurants/all");i(e.data)}catch(e){console.error("Error fetching restaurants:",e.message)}};fetchRestaurants()},[]);let handleChange=n=>{t({...e,[n.target.name]:n.target.value})},handleSubmit=async n=>{n.preventDefault();let a={...e,userId:parseInt(e.userId,10),menuItemId:parseInt(e.menuItemId,10),restaurantId:parseInt(e.restaurantId,10),totalAmount:parseFloat(e.totalAmount)};try{let e=await s.Z.post("http://localhost:8080/New-FoodOrdering/orders/add",a,{headers:{"Content-Type":"application/json"}});d("Order added successfully! Order ID: ".concat(e.data.id)),u(""),t({userId:"",menuItemId:"",restaurantId:"",orderDate:"",status:"",totalAmount:""})}catch(e){console.error("Error adding order:",e.response||e.message),u("Failed to add order. Please try again."),d("")}};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Add Order"}),(0,a.jsxs)("form",{onSubmit:handleSubmit,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Customer ID:"}),(0,a.jsx)("input",{type:"number",name:"userId",value:e.userId,onChange:handleChange,required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Menu Item ID:"}),(0,a.jsx)("input",{type:"number",name:"menuItemId",value:e.menuItemId,onChange:handleChange,required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Restaurant:"}),(0,a.jsxs)("select",{name:"restaurantId",value:e.restaurantId,onChange:handleChange,required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Restaurant"}),o.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Order Date:"}),(0,a.jsx)("input",{type:"date",name:"orderDate",value:e.orderDate,onChange:handleChange,required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Status:"}),(0,a.jsxs)("select",{name:"status",value:e.status,onChange:handleChange,required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Status"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{children:"Total Amount:"}),(0,a.jsx)("input",{type:"number",step:"0.01",name:"totalAmount",value:e.totalAmount,onChange:handleChange,required:!0})]}),(0,a.jsx)("button",{type:"submit",children:"Add Order"})]}),n&&(0,a.jsx)("p",{style:{color:"green"},children:n}),l&&(0,a.jsx)("p",{style:{color:"red"},children:l})]})}}},function(e){e.O(0,[737,971,472,744],function(){return e(e.s=6721)}),_N_E=e.O()}]);